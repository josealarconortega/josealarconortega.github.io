(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{527:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eu});var t=a(5155),r=a(2115),l=a(1007),n=a(9530),o=a(5339),i=a(4253),c=a(2085),d=a(9434);let u=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=r.forwardRef((e,s)=>{let{className:a,variant:r,size:l,asChild:n=!1,...o}=e,c=n?i.DX:"button";return(0,t.jsx)(c,{className:(0,d.cn)(u({variant:r,size:l,className:a})),ref:s,...o})});m.displayName="Button";let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});x.displayName="Card";let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...r})});h.displayName="CardHeader";let f=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});f.displayName="CardTitle";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",a),...r})});p.displayName="CardDescription";let g=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("p-6 pt-0",a),...r})});g.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let j=r.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});j.displayName="Input";var N=a(968);let v=(0,c.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(N.b,{ref:s,className:(0,d.cn)(v(),a),...r})});b.displayName=N.b.displayName;var y=a(9464),w=a(5594);let A=w.z.object({username:w.z.string().min(1,"El nombre de usuario es requerido."),password:w.z.string().min(1,"La contrase\xf1a es requerida.")}),k="https://farmacia-stock-api-593852923734.southamerica-west1.run.app";async function C(e,s){try{let a=A.safeParse({username:e,password:s});if(!a.success)return{success:!1,message:"Datos inv\xe1lidos."};let{username:t,password:r}=a.data,l=await fetch("".concat(k,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});if(200===l.status||201===l.status){let e=await l.json();return{success:!0,token:e.token,message:"Login exitoso"}}{if(401===l.status||403===l.status)return{success:!1,message:"Credenciales incorrectas"};let e=await l.text();return console.error("Error from login API:",e),{success:!1,message:"Error del servidor: ".concat(l.status,". Intente de nuevo.")}}}catch(e){return console.error("Error en loginAction:",e),{success:!1,message:e.message||"Ocurri\xf3 un error. Por favor, intente de nuevo."}}}async function T(e,s){if(console.log("searchStockAction"),!s)return{data:null,message:"Error de autenticaci\xf3n. Por favor, inicie sesi\xf3n de nuevo."};try{let a=await fetch("".concat(k,"/stock?filtro=").concat(e),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":s}});if(a.ok){let e=await a.json();if(e.productos&&e.productos.length>0)return console.log(e.productos),{data:e.productos};return{data:[],message:"No se encontraron productos con ese filtro."}}{let e=await a.text();return console.error("Error fetching stock:",e),{data:null,message:"Error del servidor: ".concat(a.status,".")}}}catch(e){return console.error("Error en searchStockAction:",e),{data:null,message:e.message||"Ocurri\xf3 un error al buscar el stock."}}}let E=(0,c.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),R=r.forwardRef((e,s)=>{let{className:a,variant:r,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,d.cn)(E({variant:r}),a),...l})});R.displayName="Alert";let S=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h5",{ref:s,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});S.displayName="AlertTitle";let _=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",a),...r})});_.displayName="AlertDescription";var O=a(215);function L(e){return(0,t.jsx)(O.A,{...e})}var D=a(4631);let F=(0,c.F)("animate-spin text-primary",{variants:{size:{sm:"size-4",md:"size-6",lg:"size-8",icon:"size-5"}},defaultVariants:{size:"md"}});function z(e){let{size:s,className:a}=e;return(0,t.jsx)(D.A,{className:(0,d.cn)(F({size:s,className:a}))})}function H(){let{login:e}=(0,y.A)(),[s,a]=(0,r.useState)({success:!1,message:void 0,token:void 0}),[i,c]=(0,r.useState)(!1),d=async s=>{s.preventDefault(),c(!0),a({success:!1,message:void 0,token:void 0});let t=new FormData(s.currentTarget),r=t.get("username"),l=t.get("password"),n=await C(r,l);a(n),c(!1),n.success&&n.token&&e(n.token)};return(0,t.jsxs)(x,{className:"w-full max-w-sm shadow-2xl",children:[(0,t.jsxs)(h,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4",children:(0,t.jsx)(L,{className:"h-12 w-12 text-primary"})}),(0,t.jsx)(f,{className:"text-3xl font-bold",children:"StockTrack Rx"}),(0,t.jsx)(p,{children:"Ingrese a su cuenta para continuar"})]}),(0,t.jsx)(g,{children:(0,t.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(b,{htmlFor:"username",children:"Usuario"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(j,{id:"username",name:"username",placeholder:"su_usuario",required:!0,className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(b,{htmlFor:"password",children:"Contrase\xf1a"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(j,{id:"password",name:"password",type:"password",required:!0,placeholder:"••••••••",className:"pl-10"})]})]}),s&&!s.success&&s.message&&(0,t.jsxs)(R,{variant:"destructive",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)(S,{children:"Error de inicio de sesi\xf3n"}),(0,t.jsx)(_,{children:s.message})]}),(0,t.jsxs)(m,{type:"submit",className:"w-full",disabled:i,children:[i?(0,t.jsx)(z,{size:"sm",className:"mr-2"}):null,i?"Ingresando...":"Ingresar"]})]})})]})}var P=a(9772),I=a(4835),U=a(6794),V=a(3052),G=a(5196),q=a(9428);let B=U.bL,J=U.l9;U.YJ,U.ZL,U.Pb,U.z6,r.forwardRef((e,s)=>{let{className:a,inset:r,children:l,...n}=e;return(0,t.jsxs)(U.ZP,{ref:s,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n,children:[l,(0,t.jsx)(V.A,{className:"ml-auto"})]})}).displayName=U.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(U.G5,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=U.G5.displayName;let Z=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,t.jsx)(U.ZL,{children:(0,t.jsx)(U.UC,{ref:s,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});Z.displayName=U.UC.displayName;let M=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(U.q7,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l})});M.displayName=U.q7.displayName;let Q=r.forwardRef((e,s)=>{let{className:a,children:r,checked:l,...n}=e;return(0,t.jsxs)(U.H_,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(U.VF,{children:(0,t.jsx)(G.A,{className:"h-4 w-4"})})}),r]})});Q.displayName=U.H_.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(U.hN,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(U.VF,{children:(0,t.jsx)(q.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=U.hN.displayName;let X=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(U.JU,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})});X.displayName=U.JU.displayName;let Y=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(U.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});function $(){let{logout:e}=(0,y.A)();return(0,t.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-card px-4 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(L,{className:"h-8 w-8 text-primary"}),(0,t.jsx)("h1",{className:"text-xl font-bold tracking-tight text-foreground",children:"StockTrack Rx"})]}),(0,t.jsxs)(B,{children:[(0,t.jsx)(J,{asChild:!0,children:(0,t.jsxs)(m,{variant:"ghost",size:"icon",className:"rounded-full",children:[(0,t.jsx)(P.A,{className:"h-6 w-6"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle user menu"})]})}),(0,t.jsxs)(Z,{align:"end",children:[(0,t.jsx)(X,{children:"Mi Cuenta"}),(0,t.jsx)(Y,{}),(0,t.jsx)(M,{disabled:!0,children:"admin"}),(0,t.jsx)(Y,{}),(0,t.jsxs)(M,{onClick:()=>{e()},className:"cursor-pointer text-destructive focus:text-destructive",children:[(0,t.jsx)(I.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Cerrar sesi\xf3n"})]})]})]})]})}Y.displayName=U.wv.displayName;let K=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,d.cn)("w-full caption-bottom text-sm",a),...r})})});K.displayName="Table";let W=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("thead",{ref:s,className:(0,d.cn)("[&_tr]:border-b",a),...r})});W.displayName="TableHeader";let ee=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...r})});ee.displayName="TableBody",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let es=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tr",{ref:s,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});es.displayName="TableRow";let ea=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("th",{ref:s,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});ea.displayName="TableHead";let et=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("td",{ref:s,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});et.displayName="TableCell",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("caption",{ref:s,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption";var er=a(7924),el=a(505),en=a(7863),eo=a(6474);function ei(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)("animate-pulse rounded-md bg-muted",s),...a})}function ec(){let{token:e}=(0,y.A)(),[s,a]=(0,r.useState)({data:null}),[l,n]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)({key:null,direction:"asc"}),[f,p]=(0,r.useState)({sucursal:!0,ST_ACTUAL:!0,PVENTA:!0,CODIGO:!1,DETALLE:!0,FECHA:!1,HORA:!1}),g=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e),N=e=>{let s="asc";x.key===e&&"asc"===x.direction&&(s="desc"),h({key:e,direction:s})},v=(0,r.useMemo)(()=>(null==s?void 0:s.data)||[],[s]),b=(0,r.useMemo)(()=>Object.values(f).filter(Boolean).length+3,[f]);r.useEffect(()=>{v.length>0&&!i&&u(!0)},[v.length,i]),r.useEffect(()=>{i&&(null==s?void 0:s.data)!==void 0&&setTimeout(()=>{c(!1),u(!0)},500)},[null==s?void 0:s.data,i]);let w=async s=>{if(s.preventDefault(),!e)return;c(!0),u(!1);let t=await T(l,e);a(t),c(!1),t.data&&t.data.length>0&&u(!0)};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("form",{onSubmit:w,className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(er.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(j,{name:"filtro",placeholder:"Buscar en stock...",className:"pl-10 pr-24",value:l,onChange:e=>n(e.target.value),required:!0}),(0,t.jsx)("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:(0,t.jsx)(ed,{isSearching:i,onSearchStart:()=>{c(!0),u(!1)}})})]}),(null==s?void 0:s.message)&&!s.data&&(0,t.jsxs)(R,{variant:"destructive",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)(S,{children:"Error"}),(0,t.jsx)(_,{children:s.message})]})]}),(0,t.jsxs)(B,{children:[(0,t.jsx)(J,{asChild:!0,children:(0,t.jsxs)(m,{variant:"outline",className:"ml-auto",children:[(0,t.jsx)(el.A,{className:"mr-2 h-4 w-4"}),"Columnas"]})}),(0,t.jsxs)(Z,{align:"end",children:[(0,t.jsx)(X,{children:"Alternar columnas"}),(0,t.jsx)(Y,{}),(0,t.jsx)(Q,{checked:f.sucursal,onCheckedChange:e=>p(s=>({...s,SUCURSAL:!!e})),children:"Sucursal"}),(0,t.jsx)(Q,{checked:f.ST_ACTUAL,onCheckedChange:e=>p(s=>({...s,ST_ACTUAL:!!e})),children:"Stock Actual"}),(0,t.jsx)(Q,{checked:f.PVENTA,onCheckedChange:e=>p(s=>({...s,PVENTA:!!e})),children:"P. Venta"}),(0,t.jsx)(Q,{checked:f.CODIGO,onCheckedChange:e=>p(s=>({...s,CODIGO:!!e})),children:"C\xf3digo"}),(0,t.jsx)(Q,{checked:f.DETALLE,onCheckedChange:e=>p(s=>({...s,DETALLE:!!e})),children:"Detalle"}),(0,t.jsx)(Q,{checked:f.FECHA,onCheckedChange:e=>p(s=>({...s,FECHA:!!e})),children:"Fecha"}),(0,t.jsx)(Q,{checked:f.HORA,onCheckedChange:e=>p(s=>({...s,HORA:!!e})),children:"Hora"})]})]})]}),i&&(0,t.jsx)("div",{className:"flex items-center justify-center py-12 bg-gradient-to-r from-blue-50 to-purple-50 rounded-md border border-dashed border-blue-200",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue-200 rounded-full animate-spin",children:(0,t.jsx)("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-transparent border-t-blue-500 rounded-full animate-spin"})}),(0,t.jsx)("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent border-r-purple-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"0.8s"}})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 animate-pulse",children:"Buscando en stock..."}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Por favor espere mientras procesamos su consulta"})]})]})}),(0,t.jsx)("div",{className:"rounded-md border transition-all duration-500 ".concat(d?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:(0,t.jsxs)(K,{children:[(0,t.jsx)(W,{children:(0,t.jsxs)(es,{children:[f.CODIGO&&(0,t.jsx)(ea,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>N("CODIGO"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["C\xf3digo","CODIGO"===x.key&&("asc"===x.direction?(0,t.jsx)(en.A,{className:"h-4 w-4"}):(0,t.jsx)(eo.A,{className:"h-4 w-4"}))]})}),f.DETALLE&&(0,t.jsx)(ea,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>N("DETALLE"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Detalle","DETALLE"===x.key&&("asc"===x.direction?(0,t.jsx)(en.A,{className:"h-4 w-4"}):(0,t.jsx)(eo.A,{className:"h-4 w-4"}))]})}),f.sucursal&&(0,t.jsx)(ea,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>N("SUCURSAL"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Sucursal","SUCURSAL"===x.key&&("asc"===x.direction?(0,t.jsx)(en.A,{className:"h-4 w-4"}):(0,t.jsx)(eo.A,{className:"h-4 w-4"}))]})}),f.ST_ACTUAL&&(0,t.jsx)(ea,{className:"text-right cursor-pointer hover:bg-gray-50 select-none",onClick:()=>N("ST_ACTUAL"),children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Stock Actual","ST_ACTUAL"===x.key&&("asc"===x.direction?(0,t.jsx)(en.A,{className:"h-4 w-4"}):(0,t.jsx)(eo.A,{className:"h-4 w-4"}))]})}),f.PVENTA&&(0,t.jsx)(ea,{className:"text-right cursor-pointer hover:bg-gray-50 select-none",onClick:()=>N("PVENTA"),children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["P. Venta","PVENTA"===x.key&&("asc"===x.direction?(0,t.jsx)(en.A,{className:"h-4 w-4"}):(0,t.jsx)(eo.A,{className:"h-4 w-4"}))]})}),f.FECHA&&(0,t.jsx)(ea,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>N("FECHA"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Fecha","FECHA"===x.key&&("asc"===x.direction?(0,t.jsx)(en.A,{className:"h-4 w-4"}):(0,t.jsx)(eo.A,{className:"h-4 w-4"}))]})}),f.HORA&&(0,t.jsx)(ea,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>N("HORA"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Hora","HORA"===x.key&&("asc"===x.direction?(0,t.jsx)(en.A,{className:"h-4 w-4"}):(0,t.jsx)(eo.A,{className:"h-4 w-4"}))]})})]})}),(0,t.jsx)(ee,{children:i?Array.from({length:5}).map((e,s)=>(0,t.jsxs)(es,{className:"animate-pulse",children:[f.CODIGO&&(0,t.jsx)(et,{children:(0,t.jsx)(ei,{className:"h-4 w-16"})}),f.DETALLE&&(0,t.jsx)(et,{children:(0,t.jsx)(ei,{className:"h-4 w-32"})}),f.sucursal&&(0,t.jsx)(et,{children:(0,t.jsx)(ei,{className:"h-4 w-20"})}),f.ST_ACTUAL&&(0,t.jsx)(et,{className:"text-right",children:(0,t.jsx)(ei,{className:"h-4 w-12 ml-auto"})}),f.PVENTA&&(0,t.jsx)(et,{className:"text-right",children:(0,t.jsx)(ei,{className:"h-4 w-16 ml-auto"})}),f.FECHA&&(0,t.jsx)(et,{children:(0,t.jsx)(ei,{className:"h-4 w-24"})}),f.HORA&&(0,t.jsx)(et,{children:(0,t.jsx)(ei,{className:"h-4 w-16"})})]},"skeleton-".concat(s))):v.length>0?(!x.key?v:[...v].sort((e,s)=>{let a=e.detalle_completo[x.key],t=s.detalle_completo[x.key];return a<t?"asc"===x.direction?-1:1:a>t?"asc"===x.direction?1:-1:0})).map((e,s)=>(0,t.jsxs)(es,{className:"animate-in slide-in-from-left-4 fade-in duration-300",style:{animationDelay:"".concat(50*s,"ms")},children:[f.CODIGO&&(0,t.jsx)(et,{className:"font-medium",children:e.detalle_completo.CODIGO}),f.DETALLE&&(0,t.jsx)(et,{children:e.detalle_completo.DETALLE}),f.sucursal&&(0,t.jsx)(et,{children:e.detalle_completo.sucursal}),f.ST_ACTUAL&&(0,t.jsx)(et,{className:"text-right",children:e.detalle_completo.ST_ACTUAL}),f.PVENTA&&(0,t.jsx)(et,{className:"text-right",children:g(e.detalle_completo.PVENTA)}),f.FECHA&&(0,t.jsx)(et,{children:e.detalle_completo.FECHA}),f.HORA&&(0,t.jsx)(et,{children:e.detalle_completo.HORA})]},"".concat(e.detalle_completo.CODIGO,"-").concat(e.detalle_completo.sucursal,"-").concat(s))):(0,t.jsx)(es,{children:(0,t.jsx)(et,{colSpan:b,className:"h-24 text-center",children:(0,t.jsx)("div",{className:"flex items-center justify-center gap-2",children:(null==s?void 0:s.message)?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 animate-pulse"}),(0,t.jsx)("span",{children:s.message})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(er.A,{className:"h-6 w-6 animate-bounce"}),(0,t.jsx)("div",{className:"absolute inset-0 h-6 w-6 border-2 border-muted-foreground/30 rounded-full animate-ping"})]}),(0,t.jsx)("span",{className:"text-sm",children:"Realice una b\xfasqueda para ver el stock"})]})})})})})]})})]})}function ed(e){let{isSearching:s,onSearchStart:a}=e;return(0,t.jsx)(m,{type:"submit",size:"sm",disabled:s,onClick:()=>{s||setTimeout(a,0)},className:"relative overflow-hidden group transition-all duration-300 hover:scale-105 active:scale-95",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 rounded-full animate-spin",children:(0,t.jsx)("div",{className:"absolute top-0 left-0 w-4 h-4 border-2 border-transparent border-t-white rounded-full animate-spin"})})}),(0,t.jsx)("span",{className:"animate-pulse font-medium",children:"Buscando..."})]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 animate-pulse"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(er.A,{className:"h-4 w-4 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),(0,t.jsx)("span",{className:"transition-all duration-300 group-hover:font-medium",children:"Buscar"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})}function eu(){let{isAuthenticated:e,isLoading:s}=(0,y.A)();return s?(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:(0,t.jsx)(z,{size:"lg"})}):e?(0,t.jsxs)("div",{className:"flex min-h-screen flex-col bg-background",children:[(0,t.jsx)($,{}),(0,t.jsx)("main",{className:"flex-1 px-4 py-6 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"mx-auto w-full max-w-6xl space-y-6",children:(0,t.jsxs)(x,{children:[(0,t.jsxs)(h,{children:[(0,t.jsx)(f,{children:"Inventario de Stock"}),(0,t.jsx)(p,{children:"Busque y filtre el stock de productos en todas las sucursales."})]}),(0,t.jsx)(g,{children:(0,t.jsx)(ec,{})})]})})})]}):(0,t.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center bg-background p-4",children:(0,t.jsx)(H,{})})}},3004:(e,s,a)=>{Promise.resolve().then(a.bind(a,527))},9434:(e,s,a)=>{"use strict";a.d(s,{cn:()=>l});var t=a(2596),r=a(9688);function l(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},9464:(e,s,a)=>{"use strict";a.d(s,{A:()=>o,AuthProvider:()=>n});var t=a(5155),r=a(2115);let l=(0,r.createContext)(void 0);function n(e){let{children:s}=e,[a,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{try{let e=sessionStorage.getItem("authToken");e&&n(e)}catch(e){console.error("Failed to access session storage:",e)}finally{i(!1)}},[]);let c=(0,r.useCallback)(e=>{n(e);try{sessionStorage.setItem("authToken",e)}catch(e){console.error("Failed to access session storage:",e)}},[]),d=(0,r.useCallback)(()=>{n(null);try{sessionStorage.removeItem("authToken")}catch(e){console.error("Failed to access session storage:",e)}},[]);return(0,t.jsx)(l.Provider,{value:{token:a,isAuthenticated:!!a,isLoading:o,login:c,logout:d},children:s})}function o(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[823,617,441,684,358],()=>s(3004)),_N_E=e.O()}]);